<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lune Lounge Menu</title>
    <link rel="icon" type="image/x-icon" href="image/fav.png" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <script src="data/preloader.js"></script>
    <style>
      html {
        scroll-behavior: smooth;
        background-color: #f7f3f1;
      }
      /* Preloader Styling */
      #preloader {
        position: fixed;
        width: 100%;
        height: 100%;
        background: #f7f3f1; /* Change to your background color */
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
      }

      /* Spinner Animation */
      .spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(0, 0, 0, 0.2);
        border-top: 5px solid #000000; /* Change to your brand color */
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      /* Keyframe Animation for Spinning */
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Navbar */
      .navbar {
        z-index: 1030;
        background-color: whitesmoke;
      }

      /* Main Tabs Container - Sticky */
      .sticky-container {
        position: -webkit-sticky;
        position: sticky;
        top: 56px;
        z-index: 1020;
        background-color: #fff;
        padding-top: 10px;
        overflow-x: auto;
        width: 100%;
      }

      /* Main Tabs Styling with Pill Shape */
      .nav-tabs {
        display: flex;
        flex-wrap: nowrap;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding: 0;
        list-style-type: none;
        padding-top: 10px;
        padding-bottom: 10px;
      }

      .nav-item {
        flex: 0 0 auto;
        margin-right: 10px;
      }

      /* Pill Shape for Tabs */
      .nav-tabs .nav-item a {
        display: block;
        padding: 8px 20px;
        border-radius: 20px;
        color: #333;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .nav-tabs .nav-item a:hover {
        background-color: rgba(0, 123, 255, 0.1);
        color: #9f9381;
      }

      .nav-tabs .nav-item a.active {
        background-color: #9f9381;
        color: white !important;
      }

      /* Sub Tabs Sticky (for drinks) - Add pill styles */
      /* Add these corrections to your existing CSS */
      .drink-tabs {
        position: -webkit-sticky;
        position: sticky;
        top: 110px;
        z-index: 1010;
        background-color: #fff;
        padding: 10px 0 !important; /* Override any other padding */
        box-shadow: 0 2px 2px -2px rgb(190, 190, 190);
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        -ms-overflow-style: none;
        display: block; /* Add this */
      }

      .drink-tabs::-webkit-scrollbar {
        display: none;
      }

      .drink-tabs .nav-tabs {
        display: flex;
        flex-wrap: nowrap;
        margin-bottom: 0;
        padding: 0 15px;
        min-width: max-content;
        width: auto; /* Add this */
        padding-top: 20px;
        padding-bottom: 10px;
      }

      /* Fix for mobile view */
      @media (max-width: 767px) {
        .drink-tabs .nav-tabs {
          padding: 0 20px;
          padding-top: 20px;
          padding-bottom: 10px;
        }

        .drink-tabs .nav-item:first-child {
          margin-left: 0; /* Remove left margin */
        }

        .drink-tabs .nav-item:last-child {
          margin-right: 20px;
        }
      }
      /* Rest of your existing styles... */
      .hero {
        background-image: url("../LuneLounge/image/menu_bg.jpg");
        background-size: cover;
        background-position: center;
        padding: 150px 0; /* Increase padding for better visibility */
        position: relative;
        color: #f7f3f1; /* White text for contrast */

        /* Optional overlay */
        &::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5); /* Dark overlay */
          z-index: 0;
        }
      }

      .hero .container {
        position: relative;
        z-index: 1;
      }

      .card-img-top {
        object-fit: cover;
        height: 200px;
      }

      /* Responsive adjustments */
      @media (max-width: 767px) {
        .sticky-container {
          top: 56px;
        }

        .drink-tabs {
          top: 120px;
        }

        .navbar-collapse {
          text-align: center;
        }

        .nav-item {
          margin-left: 0;
          margin-right: 0;
        }

        .card-img-top {
          height: 150px;
        }

        .tab-content {
          padding: 15px;
        }
      }

      @media (max-width: 992px) {
        .card-img-top {
          height: 180px;
        }
      }

      @media (min-width: 1200px) {
        .card-img-top {
          height: 220px;
        }
      }
      .footer {
        background-color: #404040 !important; /* Ensures the color applies */
        color: #333;
        padding: 20px 0;
        text-align: center; /* Ensures everything inside the footer is centered */
      }

      footer p {
        color: #f7f3f1; /* Light gray text */
        font-size: 14px;
        margin: 0;
      }

      /* Center social icons ONLY in the footer */
      .footer .social-icons {
        display: flex;
        justify-content: center; /* Centers horizontally */
        align-items: center; /* Ensures vertical alignment */
        margin-top: 10px; /* Add spacing above icons */
      }

      /* Social Icons */
      .footer .social-icons a {
        color: #b1b1b1;
        font-size: 20px;
        margin: 0 10px;
        transition: color 0.3s ease-in-out;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <div id="preloader">
      <div class="spinner"></div>
    </div>

    <nav class="navbar navbar-expand-lg fixed-top">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <img src="image/LL_logo.webp" alt="Logo" height="40" class="me-2" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto align-items-lg-center">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#contact-form">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section class="hero">
      <div class="container text-center">
        <h1 class="hero-title display-4 fw-bold mb-3">
          Discover Exceptional Experiences
        </h1>
        <p class="hero-subtitle lead">
          Crafting memorable moments through innovative solutions
        </p>
      </div>
    </section>

    <div class="container py-5">
      <!-- Main Tabs -->
      <div class="sticky-container">
        <ul class="nav nav-tabs main-tabs" id="mainTabs"></ul>
      </div>

      <!-- Main Content -->
      <div class="tab-content pt-4" id="mainContent"></div>
    </div>

    <script src="menu.js"></script>
    <script>
      function generateMenu() {
        if (typeof menuData === "undefined") {
          console.error(
            "Menu data not found. Ensure menu.js is properly linked."
          );
          return;
        }

        const mainTabs = document.getElementById("mainTabs");
        const mainContent = document.getElementById("mainContent");

        mainTabs.innerHTML = "";
        mainContent.innerHTML = "";

        Object.keys(menuData.menu).forEach((category, index) => {
          const isActive = index === 0 ? "active" : "";
          const categoryId = category.toLowerCase().replace(/\s+/g, "-");

          // Main Tab
          mainTabs.innerHTML += `
                    <li class="nav-item">
                        <a class="nav-link ${isActive}" data-bs-toggle="tab" href="#${categoryId}">
                            ${
                              category.charAt(0).toUpperCase() +
                              category.slice(1)
                            }
                        </a>
                    </li>`;

          // Content Panel
          let contentHtml = "";
          if (category.toLowerCase() === "drinks") {
            contentHtml += `
                    <div class="drink-tabs-container">
                        <div class="drink-tabs">
                            <ul class="nav-tabs nav" id="drinkTabs">
                                ${Object.keys(menuData.menu[category])
                                  .map(
                                    (subcat, subIndex) => `
                                    <li class="nav-item">
                                        <a class="nav-link ${
                                          subIndex === 0 ? "active" : ""
                                        }" 
                                           data-bs-toggle="tab" 
                                           href="#${subcat
                                             .toLowerCase()
                                             .replace(/\s+/g, "-")}">
                                            ${subcat
                                              .replace(/_/g, " ")
                                              .toUpperCase()}
                                        </a>
                                    </li>`
                                  )
                                  .join("")}
                            </ul>
                        </div>
                        <div class="tab-content pt-3" id="drinkContent">
                            ${Object.entries(menuData.menu[category])
                              .map(
                                ([subcat, items], subIndex) => `
                                <div class="tab-pane fade ${
                                  subIndex === 0 ? "show active" : ""
                                }" 
                                     id="${subcat
                                       .toLowerCase()
                                       .replace(/\s+/g, "-")}">
                                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                                        ${items
                                          .map(
                                            (item) => `
                                            <div class="col">
                                                <div class="card h-100">
                                                    <img src="${
                                                      item.Image ||
                                                      "LuneLounge/menu_img/default.jpg"
                                                    }" 
                                                         class="card-img-top" 
                                                         alt="${item.name}"
                                                         onerror="this.onerror=null;this.src='LuneLounge/menu_img/default.jpg';">
                                                    <div class="card-body">
                                                        <h5 class="card-title">${
                                                          item.name
                                                        }</h5>
                                                        <p class="card-text" style="display: ${
                                                          showDescription
                                                            ? "block"
                                                            : "none"
                                                        };">${
                                              item.Description
                                            }</p>
                                                        ${
                                                          showPrice
                                                            ? `<span class="fw-bold text-primary">${item.Price} ${item.Currency}</span>`
                                                            : ""
                                                        }
                                                    </div>
                                                </div>
                                            </div>`
                                          )
                                          .join("")}
                                    </div>
                                </div>`
                              )
                              .join("")}
                        </div>
                    </div>`;
          } else {
            contentHtml += `
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                        ${menuData.menu[category]
                          .map(
                            (item) => `
                            <div class="col">
                                <div class="card h-100">
                                    <img src="${
                                      item.Image ||
                                      "LuneLounge/menu_img/default.jpg"
                                    }" 
                                         class="card-img-top" 
                                         alt="${item.name}"
                                         onerror="this.onerror=null;this.src='LuneLounge/menu_img/default.jpg';">
                                    <div class="card-body">
                                        <h5 class="card-title">${item.name}</h5>
                                        <p class="card-text" style="display: ${
                                          showDescription ? "block" : "none"
                                        };">${item.Description}</p>
                                        ${
                                          showPrice
                                            ? `<span class="fw-bold text-primary">${item.Price} ${item.Currency}</span>`
                                            : ""
                                        }
                                    </div>
                                </div>
                            </div>`
                          )
                          .join("")}
                    </div>`;
          }

          mainContent.innerHTML += `
                    <div class="tab-pane fade ${
                      isActive ? "show active" : ""
                    }" id="${categoryId}">
                        ${contentHtml}
                    </div>`;
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        if (typeof menuData !== "undefined") {
          generateMenu();

          // Update sticky positions after content load
          const updateStickyPositions = () => {
            const navbarHeight = document.querySelector(".navbar").offsetHeight;
            document.querySelector(
              ".sticky-container"
            ).style.top = `${navbarHeight}px`;
            document.querySelector(".drink-tabs").style.top = `${
              navbarHeight + 50
            }px`;
          };

          // Initial update
          updateStickyPositions();

          // Update on resize
          const resizeObserver = new ResizeObserver(updateStickyPositions);
          resizeObserver.observe(document.querySelector(".navbar"));
        } else {
          console.error("Menu data is not defined. Check menu.js file.");
        }
      });

      document.addEventListener("DOMContentLoaded", function () {
        // Check if the URL has a hash (e.g., #contact-form)
        if (window.location.hash) {
          const element = document.querySelector(window.location.hash);
          if (element) {
            // Smooth scroll to the element after a short delay
            setTimeout(() => {
              element.scrollIntoView({ behavior: "smooth" });
            }, 300);
          }
        }
      });
      document.addEventListener("DOMContentLoaded", () => {
        if (typeof menuData !== "undefined") {
          generateMenu();

          // Existing resize observer code...
          const updateStickyPositions = () => {
            /* ... */
          };
          updateStickyPositions();
          const resizeObserver = new ResizeObserver(updateStickyPositions);
          resizeObserver.observe(document.querySelector(".navbar"));

          // ��� Add the new scroll reset code here ���
          document
            .querySelectorAll('.nav-link[data-bs-toggle="tab"]')
            .forEach((tab) => {
              tab.addEventListener("shown.bs.tab", function () {
                window.scrollTo({ top: 0, behavior: "smooth" });
              });
            });
        } else {
          console.error("Menu data is not defined. Check menu.js file.");
        }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Footer Section Start -->
    <footer class="footer bg-light text-center py-4">
      <div class="container">
        <p class="mb-2">&copy; 2025 Lune Coffee Shop. All rights reserved.</p>
        <p class="mb-2">Follow Us</p>
        <div class="social-icons">
          <a
            href="https://www.instagram.com/lunedubai/"
            class="me-3"
            target="_blank"
          >
            <i class="fab fa-instagram"></i>
          </a>
          <a
            href="https://www.linkedin.com/in/luneloungedubai"
            class="me-3"
            target="_blank"
          >
            <i class="fab fa-linkedin-in"></i>
          </a>
        </div>
      </div>
    </footer>
    <!-- Footer Section End -->
  </body>
</html>
